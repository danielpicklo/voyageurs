
{# DATA #}
{% set testimonials = module.testimonials %}
{% set quote = '<svg width="132" height="87" viewBox="0 0 132 87" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M30.1776 35.2082C28.7166 35.2082 27.3147 35.4035 25.9192 35.5816C26.3713 34.2488 26.8364 32.893 27.5833 31.6751C28.3301 29.9057 29.4963 28.3719 30.6558 26.8265C31.6254 25.1548 33.3353 24.023 34.5932 22.5926C35.91 21.2023 37.7051 20.2774 39.1267 19.1227C40.5221 17.9163 42.35 17.3131 43.8044 16.4629C45.3243 15.6988 46.6476 14.8543 48.0627 14.4522L51.5939 13.1768L54.6992 12.0451L51.5218 0.911621L47.6107 1.73887C46.3594 2.01462 44.8329 2.33633 43.0968 2.72124C41.3214 3.00848 39.4281 3.79552 37.3185 4.51362C35.2352 5.32939 32.8243 5.88089 30.5838 7.19071C28.3301 8.44308 25.7292 9.48864 23.4363 11.1661C21.2154 12.8953 18.5359 14.3947 16.5574 16.595C14.3954 18.6516 12.2597 20.8117 10.6022 23.2705C8.68268 25.6144 7.37897 28.188 6.00319 30.733C4.75843 33.278 3.75608 35.8804 2.93717 38.4081C1.3845 43.475 0.69006 48.2892 0.421455 52.4082C0.19871 56.533 0.329737 59.9627 0.604892 62.4444C0.703162 63.6164 0.8866 64.7538 1.01763 65.5409L1.18141 66.506L1.35174 66.4715C2.51697 71.2445 5.19936 75.6307 9.08862 79.1227C12.9779 82.6147 17.9151 85.0698 23.3291 86.204C28.7431 87.3382 34.4127 87.1052 39.682 85.5319C44.9512 83.9586 49.6049 81.1093 53.1047 77.3136C56.6044 73.518 58.8072 68.931 59.4582 64.0834C60.1092 59.2358 59.1819 54.3256 56.7834 49.9208C54.3849 45.5161 50.6134 41.7967 45.9051 39.1931C41.1967 36.5895 35.744 35.2079 30.1776 35.2082ZM102.242 35.2082C100.781 35.2082 99.3793 35.4035 97.9838 35.5816C98.4359 34.2488 98.901 32.893 99.6479 31.6751C100.395 29.9057 101.561 28.3719 102.72 26.8265C103.69 25.1548 105.4 24.023 106.658 22.5926C107.975 21.2023 109.77 20.2774 111.191 19.1227C112.587 17.9163 114.415 17.3131 115.869 16.4629C117.389 15.6988 118.712 14.8543 120.127 14.4522L123.658 13.1768L126.764 12.0451L123.586 0.911621L119.675 1.73887C118.424 2.01462 116.898 2.33633 115.161 2.72124C113.386 3.00848 111.493 3.79552 109.383 4.51362C107.306 5.33513 104.889 5.88089 102.648 7.19646C100.395 8.44883 97.7938 9.49438 95.5009 11.1719C93.28 12.9011 90.6005 14.4005 88.622 16.595C86.46 18.6516 84.3243 20.8117 82.6668 23.2705C80.7473 25.6144 79.4436 28.188 78.0678 30.733C76.8231 33.278 75.8207 35.8804 75.0018 38.4081C73.4491 43.475 72.7547 48.2892 72.4861 52.4082C72.2633 56.533 72.3943 59.9627 72.6695 62.4444C72.7678 63.6164 72.9512 64.7538 73.0822 65.5409L73.246 66.506L73.4164 66.4715C74.5816 71.2445 77.264 75.6307 81.1532 79.1227C85.0425 82.6147 89.9797 85.0698 95.3937 86.204C100.808 87.3382 106.477 87.1052 111.747 85.5319C117.016 83.9586 121.67 81.1093 125.169 77.3136C128.669 73.518 130.872 68.931 131.523 64.0834C132.174 59.2358 131.246 54.3256 128.848 49.9208C126.45 45.5161 122.678 41.7967 117.97 39.1931C113.261 36.5895 107.809 35.2079 102.242 35.2082Z" fill="#A1195D"/></svg>' %}
{% set left_arrow = '<svg width="74" height="73" viewBox="0 0 74 73" fill="none" xmlns="http://www.w3.org/2000/svg"><circle cx="36" cy="36.8218" r="35.5" transform="rotate(90 36 36.8218)" stroke="white"/><path d="M21.6591 35.4115C21.0733 35.9973 21.0733 36.947 21.6591 37.5328L31.205 47.0788C31.7908 47.6646 32.7405 47.6646 33.3263 47.0788C33.9121 46.493 33.9121 45.5432 33.3263 44.9574L24.841 36.4722L33.3263 27.9869C33.9121 27.4011 33.9121 26.4514 33.3263 25.8656C32.7405 25.2798 31.7908 25.2798 31.205 25.8656L21.6591 35.4115ZM49.2828 37.9722C50.1113 37.9722 50.7828 37.3006 50.7828 36.4722C50.7828 35.6437 50.1113 34.9722 49.2828 34.9722L49.2828 36.4722L49.2828 37.9722ZM22.7197 36.4722L22.7197 37.9722L49.2828 37.9722L49.2828 36.4722L49.2828 34.9722L22.7197 34.9722L22.7197 36.4722Z" fill="white"/></svg>' %}
{% set right_arrow = '<svg width="74" height="73" viewBox="0 0 74 73" fill="none" xmlns="http://www.w3.org/2000/svg"><circle cx="38" cy="36.8218" r="35.5" transform="rotate(-90 38 36.8218)" stroke="white"/><path d="M52.3409 38.232C52.9267 37.6463 52.9267 36.6965 52.3409 36.1107L42.795 26.5648C42.2092 25.979 41.2595 25.979 40.6737 26.5648C40.0879 27.1506 40.0879 28.1003 40.6737 28.6861L49.159 37.1714L40.6737 45.6567C40.0879 46.2425 40.0879 47.1922 40.6737 47.778C41.2595 48.3638 42.2092 48.3638 42.795 47.778L52.3409 38.232ZM24.7172 35.6714C23.8887 35.6714 23.2172 36.343 23.2172 37.1714C23.2172 37.9998 23.8887 38.6714 24.7172 38.6714L24.7172 37.1714L24.7172 35.6714ZM51.2803 37.1714L51.2803 35.6714L24.7172 35.6714L24.7172 37.1714L24.7172 38.6714L51.2803 38.6714L51.2803 37.1714Z" fill="white"/></svg>' %}

{# MACROS #}
{% macro render_testimonial(testimonial) %}

<div class="testimonial">
  <div class="testimonial--quote">{{ testimonial.quote }}</div>
  <div class="testimonial--person"><strong>- {{ testimonial.person }}</strong></div>
  <a href="{{ testimonial.url.link }}" target="_blank">{{ testimonial.url_text }}</a>
</div>
{% endmacro %}

{# CONTAINER #}
<div id="{{ name }}" class="testimonials">
  <div class="testimonials--quote">{{ quote }}</div>
  <div id="{{ name }}_slider" class="testimonials__listing">
    {% for testimonial in testimonials %}
      {{ render_testimonial(testimonial) }}
    {% endfor %}
  </div>
</div>

{# SCRIPTS #}
{% require_js position="footer" %}
<script>
  $(document).ready(function(){
    $(`#{{ name }}_slider`).slick({
      autoplay: false,
      arrows: true,
      prevArrow: `<button class="prev">{{ left_arrow }}</button>`,
      nextArrow: `<button class="next">{{ right_arrow }}</button>`,
      dots: false
    })
  })
</script>
{% end_require_js %}

{# STYLES #}
{% require_css %}
<style>
  {% scope_css %}
  
  .testimonial--quote,
  .testimonial--person,
  .testimonial > a{
    color: {{ module.style.colors.text_color.color }};
  }
  
  {% end_scope_css %}
</style>
{% end_require_css %}